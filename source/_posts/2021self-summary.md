---
title: 2021年，人生的转折点
date: 2022-01-01 22:22:33
categories: 流水账 | 总结类
tags: self-summary
thumbnail: https://pub.wangxuefeng.com.cn/asset/blogthumbnail/2021selfSummary/thumbnail.jpeg
---

时间转眼又来到了年末，但疫情仍未结束，口罩又戴满了整整一年。回首这一年，发生了太多太多的事情。

今年 3 月，我主管替我发起了转正面试流程。一面是 P7 `(后丞)` 面我，二面是之前在 D2 直播一起合作过得 P8`(工善)`，三面是我们前端组的老大P8`(倪欧)`，这三面都是技术面，都很顺利。四面是HR面`(乔溪)`，由于一些莫名其妙的原因，也包括自己的一些原因，我果不其然挂在了这一面。虽然这次转正失败，但是我还是心态比较好的。

4 月初，我和我同学还有她弟弟一起去爬了八达岭长城，来北京这么久，第一次出去游玩，感觉挺好，就是人有点多。到了中旬，我所在的团队一起去团建，人生中第一次体验了密室逃脱，而且是监狱主题。虽然最终没有逃出去，但是玩的非常开心。

年中，我经常和同事去隔壁金辉大厦21层一起玩桌上足球。我不适合防守，经常把球防进己方门里，造成乌龙球; 进攻也一般，手腕没有足够的劲打出快狠准的球。虽然水平一般，但也玩得很开心。

大概从 6 月份开始，我开始意识到这一年已经过半，不能再虚度下去了，需要做点有意义的事情了。于是，我下定决心，打算用 `omi` 框架去实现 `Ant Design` 组件库，因为我发现 `antd` 三大框架都有自己的实现，唯独没有 `omi` 的实现，而且 `omi` 的组件库生态还不是很丰富，于是便有了这个决定。然而开始做了之后才发现有很多坑，比如 `ConfigProvider` 和 `LocaleProvider` 是所有组件的基础，要想实现其他组件，必须先要完成这两个组件。然而 `LocaleProvider` 又和国际化密不可分，这是一个浩大的工程，虽然我一开始想着只实现中文和英文即可，但也还是很难。`ConfigProvider` `中有还多内部_utils` 方法的引用，要想实现 `ConfigProvider`，必须先要实现 这些 `_utils` 方法，他们有些很好实现，甚至直接可以复制过来直接使用，然而有些是抽离出去的，是 `React` 相关的一些 api 和组件，要想都实现他们又是一个浩大的工程。起初在实现 `ConfigProvider` 的时候，由于 `omi` 不像 React，没有 `Provider` 和 `Consumer` 的概念，也没有 `creatContext` 相关的 api，于是我自己尝试去封装实现，借用 `Proxy` 和 `store`，算是简单的实现了。后来 `omi` 官方支持了 `Provide` 和 `Inject` 机制，于是我便将我的实现改成了官方的 `Provide`  和 `Inject` 方案。后来，我又逐渐实现了一系列常用的工具方法，发布在 `omi-tools` 里。

在发布 `omi-tools` 之前，我用 omi 实现了 antd 的图标组件 `Ant Design icons for Omi`，因为我发现 Ant Design 组件库里引用了大量的自己的 icon, 所以要想实现 omi 版的 Antd, 就必须要先实现他的 icon.

时间来到 7 月份。7 月 16 日这天，我度过了在阿里的第365天。

<img src="https://pub.wangxuefeng.com.cn/asset/blogthumbnail/2021selfSummary/365inali.jpg" width="100%">

8 月份，我要实现 omi 版的 Antd 的宏伟计划只实现了 `icons` 和 `tools`，由于工程太过于浩大，于是便搁置了。

9 月中秋节，我回家参加了妹妹的婚礼。

时间到了10月份，我学习了 `React Native` 相关的知识，还有 `Electron` 开发相关的知识。

时间到了 11 月初，我发现我之前做的一个 vue canvas 画板 star 数超过了 50，大概一月初，我用 vue3 重构了这个项目。现在我打算给它加个录制的功能。起初，我是用 `MediaRecoder` 去记录 Canvas 变化的数据，最后生成视频。由于我当时是把绘图过程和绘图结果是放在两个 Canvas 图层的，所以录制的时候需要同时录制两个 Canvas 的数据，最后把他们叠加在一起，为此，我还学习了 FFMPEG 相关的知识。不过最后我没有使用 FFMPEG 方案，而是用两个 video 叠加实现视觉上的叠加。后来，发现生成的视频缺少 `meta` 信息，没有时长，所以第一次播放时是无法拖动进度条的，于是便尝试修复 `meta` 信息，发现有个开源库专门解决这个问题，然而他有个依赖库底层有个 `Buffer` 相关的 bug,于是我便先修复了这个底层 bug，然后又用这个开源库来修复生成视频丢失的 meta 信息。后来，我了解到了 `WebRTC` 相关的知识，于是造了一个轮子，实现了三大框架版本的可以录制屏幕的 `WebRTC` 的调用功能。并且加在了我这个 Vue Canvas 画板的小 Demo 里。

时间到了 11 月下旬，有一天我正常下班，我刚走出B座的门口，准备前往地铁站时，看到了晓琳的消息，问我还在公司嘛，有点事要和我聊。于是我便又回去了，电梯直达顶层，直接前往项目室3004。也就是这一去，改变了我之后的职业生涯，也可以说，是我人生的又一转折点。

11 月 29，30，在阿里的第500天，我休完了我最后的年假，离开了优酷，离开了阿里。聚是一团火，散是满天星，再见优酷，再见阿里。

12 月 1 日，我前往招招才入职，开启了和大佬们一起的创业生涯。

12 月 4日，我搬离了住了一年多的亚洲最大的小区天通苑，帮到了新公司附近的小区居住。

12 月 21 日，因为一个室友从疫情严重的西安出差回来，我也被隔离了，一周隔离结束后，便是圣诞节。收到了公司送的圣诞节礼物，很开心。

12 月 31 日，2021年结束了。我的这一年就是这样度过的。一直在路上，一直在变化，一直在学习，一直在成长。

2022 年 1 月 1 日，元旦快乐，所有人。